{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\D E L L\\\\NetMedsTask\\\\src\\\\components\\\\Pages\\\\Forms\\\\Forms.js\";\nimport { faPlusCircle } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React, { useEffect, useState } from 'react';\nimport { Button, Col, Form, ListGroup, Row } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createRecord, updateRecords } from '../../../Redux/rootForm/rootFormActions';\n\nfunction Forms(props) {\n  var _props$location, _props$location$state, _formrender$metaData;\n\n  const [formList, setFormList] = useState([]);\n  var [formrender, setFormRender] = useState([]);\n  const [selected, setSelected] = useState('');\n  const [showButton, setShowButton] = useState(false);\n  const dispatch = useDispatch();\n  const forms = useSelector(state => state.form.forms);\n  const [prevId, setPrevId] = useState((_props$location = props.location) === null || _props$location === void 0 ? void 0 : (_props$location$state = _props$location.state) === null || _props$location$state === void 0 ? void 0 : _props$location$state.id);\n  useEffect(() => {\n    let tempArr = Object.keys(forms);\n    setFormList(tempArr);\n\n    if (prevId && prevId !== undefined) {\n      var _prevId$id;\n\n      let tempVal = prevId === null || prevId === void 0 ? void 0 : (_prevId$id = prevId.id) === null || _prevId$id === void 0 ? void 0 : _prevId$id.split('_')[1];\n      getSelectedForm(tempVal);\n    } else if (prevId === undefined) {\n      setPrevId('');\n      setFormRender([]);\n    }\n  }, [forms]);\n\n  const CheckBox = props => {\n    var _props$data, _props$data2;\n\n    return /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formBasicCheckbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }\n    }, props === null || props === void 0 ? void 0 : (_props$data = props.data) === null || _props$data === void 0 ? void 0 : _props$data.displayLabel), /*#__PURE__*/React.createElement(Form.Check, {\n      type: \"checkbox\",\n      label: \"Check me out\",\n      checked: props === null || props === void 0 ? void 0 : (_props$data2 = props.data) === null || _props$data2 === void 0 ? void 0 : _props$data2.value,\n      onChange: e => getValues(e.target.checked, props.index),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }\n    }));\n  };\n\n  const TextArea = props => {\n    var _props$data3, _props$data4;\n\n    return /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formBasicTextArea\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }\n    }, props === null || props === void 0 ? void 0 : (_props$data3 = props.data) === null || _props$data3 === void 0 ? void 0 : _props$data3.displayLabel), /*#__PURE__*/React.createElement(\"textarea\", {\n      className: \"form-control\",\n      rows: \"3\",\n      col: \"3\",\n      id: \"comment\",\n      defaultValue: (props === null || props === void 0 ? void 0 : (_props$data4 = props.data) === null || _props$data4 === void 0 ? void 0 : _props$data4.value) || '',\n      onChange: e => getValues(e.target.value, props.index),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }\n    }));\n  };\n\n  const DateArea = props => {\n    var _props$data5, _props$data6;\n\n    return /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formBasicDate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, props === null || props === void 0 ? void 0 : (_props$data5 = props.data) === null || _props$data5 === void 0 ? void 0 : _props$data5.displayLabel), /*#__PURE__*/React.createElement(Form.Check, {\n      type: \"date\",\n      defaultValue: (props === null || props === void 0 ? void 0 : (_props$data6 = props.data) === null || _props$data6 === void 0 ? void 0 : _props$data6.value) || '',\n      onChange: e => getValues(e.target.value, props.index),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }));\n  };\n\n  const updateRecord = () => {\n    let tempObj = {};\n\n    for (let i = 0; i < formrender.metaData.length; i++) {\n      let field = formrender.metaData[i];\n      tempObj[field['label']] = field['value'];\n    }\n\n    tempObj['templateType'] = selected;\n    tempObj['id'] = prevId.id;\n    dispatch(updateRecords(tempObj));\n\n    for (let i = 0; i < formrender.metaData.length; i++) {\n      formrender.metaData[i]['value'] = '';\n    }\n\n    setPrevId('');\n    setFormRender([]);\n    setShowButton(false);\n  };\n\n  const getValues = (event, index) => {\n    let value = event;\n    formrender.metaData[index]['value'] = value;\n  };\n\n  const EmailTag = props => {\n    var _props$data7, _props$data8;\n\n    return /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, props === null || props === void 0 ? void 0 : (_props$data7 = props.data) === null || _props$data7 === void 0 ? void 0 : _props$data7.displayLabel), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"email\",\n      placeholder: \"Enter email\",\n      defaultValue: (props === null || props === void 0 ? void 0 : (_props$data8 = props.data) === null || _props$data8 === void 0 ? void 0 : _props$data8.value) || '',\n      onChange: e => getValues(e.target.value, props.index),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Form.Text, {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, \"We'll never share your email with anyone else.\"));\n  };\n\n  const TextTag = props => {\n    var _props$data9, _props$data10;\n\n    return /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, props === null || props === void 0 ? void 0 : (_props$data9 = props.data) === null || _props$data9 === void 0 ? void 0 : _props$data9.displayLabel), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"Enter Text\",\n      defaultValue: (props === null || props === void 0 ? void 0 : (_props$data10 = props.data) === null || _props$data10 === void 0 ? void 0 : _props$data10.value) || '',\n      onChange: e => getValues(e.target.value, props.index),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }));\n  };\n\n  const getSelectedForm = value => {\n    setShowButton(true);\n    let temp = JSON.parse(JSON.stringify(forms[value]));\n\n    if (prevId && temp && temp['metaData'].length) {\n      for (let k = 0; k < temp['metaData'].length; k++) {\n        let field = temp['metaData'][k];\n        field['value'] = prevId[field['label']];\n      }\n    }\n\n    setSelected(value);\n    setFormRender(temp);\n  };\n\n  const saveRecord = () => {\n    let tempRecord = {};\n    let uniqueId = Date.now().toString(36) + Math.random().toString(36).substring(2);\n\n    for (let i = 0; i < formrender.metaData.length; i++) {\n      let field = formrender.metaData[i];\n      tempRecord[field['label']] = field['value'];\n    }\n\n    tempRecord['templateType'] = selected;\n    tempRecord['id'] = uniqueId + '_' + selected;\n    dispatch(createRecord(tempRecord));\n\n    for (let i = 0; i < formrender.metaData.length; i++) {\n      formrender.metaData[i]['value'] = '';\n    }\n\n    setFormRender([]);\n    setShowButton(false);\n  };\n\n  const NumberTag = props => {\n    var _props$data11, _props$data12;\n\n    return /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }, props === null || props === void 0 ? void 0 : (_props$data11 = props.data) === null || _props$data11 === void 0 ? void 0 : _props$data11.displayLabel), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"number\",\n      placeholder: \"12345....\",\n      defaultValue: (props === null || props === void 0 ? void 0 : (_props$data12 = props.data) === null || _props$data12 === void 0 ? void 0 : _props$data12.value) || '',\n      onChange: e => getValues(e.target.value, props.index),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \" col-md-3 section left-section py-2 px-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 25\n    }\n  }, \" Forms List\"), formList.map((item, index) => /*#__PURE__*/React.createElement(ListGroup.Item, {\n    key: index,\n    onClick: () => getSelectedForm(item),\n    action: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 29\n    }\n  }, item))), /*#__PURE__*/React.createElement(Col, {\n    className: \"col-md-9 py-2 px-4 section section-two \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 25\n    }\n  }, \"Selected Form\"), showButton && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"float-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 40\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: prevId ? updateRecord : saveRecord,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 29\n    }\n  }, prevId ? 'Update Record' : 'Create Record'))), formrender && (formrender === null || formrender === void 0 ? void 0 : (_formrender$metaData = formrender.metaData) === null || _formrender$metaData === void 0 ? void 0 : _formrender$metaData.length) && (formrender === null || formrender === void 0 ? void 0 : formrender.metaData.map((item, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 33\n    }\n  }, item.type === 'email' && /*#__PURE__*/React.createElement(EmailTag, {\n    data: item,\n    index: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 63\n    }\n  }), item.type === 'text' && /*#__PURE__*/React.createElement(TextTag, {\n    data: item,\n    index: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 62\n    }\n  }), item.type === 'number' && /*#__PURE__*/React.createElement(NumberTag, {\n    data: item,\n    index: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 64\n    }\n  }), item.type === 'checkbox' && /*#__PURE__*/React.createElement(CheckBox, {\n    data: item,\n    index: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 66\n    }\n  }), item.type === 'textArea' && /*#__PURE__*/React.createElement(TextArea, {\n    data: item,\n    index: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 66\n    }\n  }), item.type === 'date' && /*#__PURE__*/React.createElement(DateArea, {\n    data: item,\n    index: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 62\n    }\n  })))))))));\n}\n\nexport default Forms;","map":{"version":3,"sources":["C:/Users/D E L L/NetMedsTask/src/components/Pages/Forms/Forms.js"],"names":["faPlusCircle","FontAwesomeIcon","React","useEffect","useState","Button","Col","Form","ListGroup","Row","useDispatch","useSelector","createRecord","updateRecords","Forms","props","formList","setFormList","formrender","setFormRender","selected","setSelected","showButton","setShowButton","dispatch","forms","state","form","prevId","setPrevId","location","id","tempArr","Object","keys","undefined","tempVal","split","getSelectedForm","CheckBox","data","displayLabel","value","e","getValues","target","checked","index","TextArea","DateArea","updateRecord","tempObj","i","metaData","length","field","event","EmailTag","TextTag","temp","JSON","parse","stringify","k","saveRecord","tempRecord","uniqueId","Date","now","toString","Math","random","substring","NumberTag","map","item","type"],"mappings":"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","sourcesContent":["import { faPlusCircle } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React, { useEffect, useState } from 'react'\nimport { Button, Col, Form, ListGroup, Row } from 'react-bootstrap'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createRecord, updateRecords } from '../../../Redux/rootForm/rootFormActions';\n\nfunction Forms(props) {\n    const [formList, setFormList] = useState([]);\n    var [formrender, setFormRender] = useState([]);\n    const [selected, setSelected] = useState('');\n    const [showButton, setShowButton] = useState(false);\n    const dispatch = useDispatch();\n    const forms = useSelector(state => state.form.forms);\n    const [prevId, setPrevId] = useState(props.location?.state?.id);\n\n    useEffect(() => {\n        let tempArr = Object.keys(forms);\n        setFormList(tempArr);\n        if (prevId && prevId !== undefined) {\n            let tempVal = prevId?.id?.split('_')[1];\n            getSelectedForm(tempVal)\n        } else if (prevId === undefined) {\n            setPrevId('');\n            setFormRender([]);\n        }\n    }, [forms])\n\n    const CheckBox=(props)=> {\n        return (\n            <Form.Group controlId=\"formBasicCheckbox\">\n                <Form.Label>{props?.data?.displayLabel}</Form.Label>\n                <Form.Check type=\"checkbox\" label=\"Check me out\" checked={props?.data?.value} onChange={(e) => getValues(e.target.checked, props.index)} />\n            </Form.Group>\n        )\n    }\n    const TextArea=(props) =>{\n        return (\n            <Form.Group controlId=\"formBasicTextArea\">\n                <Form.Label>{props?.data?.displayLabel}</Form.Label>\n                <textarea className=\"form-control\" rows=\"3\" col=\"3\" id=\"comment\" defaultValue={props?.data?.value || ''} onChange={(e) => getValues(e.target.value, props.index)} ></textarea>\n            </Form.Group>\n        )\n    }\n    const DateArea=(props) =>{\n        return (\n            <Form.Group controlId=\"formBasicDate\">\n                <Form.Label>{props?.data?.displayLabel}</Form.Label>\n                <Form.Check type=\"date\" defaultValue={props?.data?.value || ''} onChange={(e) => getValues(e.target.value, props.index)} />\n            </Form.Group>\n        )\n    }\n\n    \n    const updateRecord=()=> {\n        let tempObj = {};\n        for (let i = 0; i < formrender.metaData.length; i++) {\n            let field = formrender.metaData[i];\n            tempObj[field['label']] = field['value'];\n        }\n        tempObj['templateType'] = selected;\n        tempObj['id'] = prevId.id\n        dispatch(updateRecords(tempObj));\n        for (let i = 0; i < formrender.metaData.length; i++) {\n            formrender.metaData[i]['value'] = '';\n        }\n        setPrevId('');\n        setFormRender([]);\n        setShowButton(false);\n    }\n\n    const getValues=(event, index)=> {\n        let value = event\n        formrender.metaData[index]['value'] = value\n    }\n\n    const EmailTag=(props)=> {\n        return (\n            <Form.Group controlId=\"formBasicEmail\">\n                <Form.Label>{props?.data?.displayLabel}</Form.Label>\n                <Form.Control type=\"email\" placeholder=\"Enter email\" defaultValue={props?.data?.value || ''} onChange={(e) => getValues(e.target.value, props.index)} />\n                <Form.Text className=\"text-muted\">We'll never share your email with anyone else.</Form.Text>\n            </Form.Group>\n        )\n    }\n    const TextTag=(props)=> {\n        return (\n            <Form.Group controlId=\"formBasicEmail\">\n                <Form.Label>{props?.data?.displayLabel}</Form.Label>\n                <Form.Control type=\"text\" placeholder=\"Enter Text\" defaultValue={props?.data?.value || ''} onChange={(e) => getValues(e.target.value, props.index)} />\n            </Form.Group>\n        )\n    }\n    const getSelectedForm = (value) =>{\n        setShowButton(true);\n        let temp = JSON.parse(JSON.stringify(forms[value]));\n        if (prevId && temp && temp['metaData'].length) {\n            for (let k = 0; k < temp['metaData'].length; k++) {\n                let field = temp['metaData'][k]\n                field['value'] = prevId[field['label']]\n            }\n        }\n        setSelected(value);\n        setFormRender(temp);\n    }\n\n    const saveRecord =()=> {\n        let tempRecord = {};\n        let uniqueId = Date.now().toString(36) + Math.random().toString(36).substring(2);\n        for (let i = 0; i < formrender.metaData.length; i++) {\n            let field = formrender.metaData[i];\n            tempRecord[field['label']] = field['value'];\n        }\n        tempRecord['templateType'] = selected;\n        tempRecord['id'] = uniqueId + '_' + selected;\n        dispatch(createRecord(tempRecord));\n        for (let i = 0; i < formrender.metaData.length; i++) {\n            formrender.metaData[i]['value'] = '';\n        }\n        setFormRender([]);\n        setShowButton(false);\n    }\n\n    const NumberTag=(props)=> {\n        return (\n            <Form.Group controlId=\"formBasicEmail\">\n                <Form.Label>{props?.data?.displayLabel}</Form.Label>\n                <Form.Control type=\"number\" placeholder=\"12345....\" defaultValue={props?.data?.value || ''} onChange={(e) => getValues(e.target.value, props.index)} />\n            </Form.Group>\n        )\n    }\n    \n\n    return (\n        <>\n            <div>\n                <Row className=\"m-0\">\n                    <Col  className=\" col-md-3 section left-section py-2 px-4\" >\n                        <h6 > Forms List</h6>\n                        {formList.map((item, index) => (\n                            <ListGroup.Item key={index}  onClick={() => getSelectedForm(item)} action>{item}</ListGroup.Item>\n                        ))}\n                    </Col>\n                    <Col  className=\"col-md-9 py-2 px-4 section section-two \">\n                        <h6 >Selected Form</h6>\n                        {showButton && <div className=\"float-right\">\n                        <div className=\"d-flex justify-content-end\">\n                            <button type=\"button\" onClick={prevId ? updateRecord : saveRecord}>\n                               {prevId ? 'Update Record' : 'Create Record'}\n                            </button>\n                        </div>\n                           \n                        </div>}\n                        {formrender && formrender?.metaData?.length && formrender?.metaData.map((item, index) => (\n                            <div key={index}>\n                                <Form>\n                                    {item.type === 'email' && <EmailTag data={item} index={index} />}\n                                    {item.type === 'text' && <TextTag data={item} index={index} />}\n                                    {item.type === 'number' && <NumberTag data={item} index={index} />}\n                                    {item.type === 'checkbox' && <CheckBox data={item} index={index} />}\n                                    {item.type === 'textArea' && <TextArea data={item} index={index} />}\n                                    {item.type === 'date' && <DateArea data={item} index={index} />}\n                                </Form>\n                            </div>\n                        ))}\n                    </Col>\n                </Row>\n            </div>\n        </>\n    )\n}\n\nexport default Forms\n"]},"metadata":{},"sourceType":"module"}